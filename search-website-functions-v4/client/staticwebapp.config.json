 {
    "routes": [
      {
        "route": "/login",
        "allowedRoles": ["anonymous"],
        "rewrite": "/.auth/login/aad"
      },
      {
          "route": "/logout",
          "allowedRoles": ["authenticated"],
          "rewrite": "/.auth/logout"
      },
      {
          "route": "/.auth/login/aad",
          "allowedRoles": ["anonymous", "authenticated"],
          "statusCode": 404
      },
      {
        "route": "/*",
        "allowedRoles": [ "authenticated" ]
      }
    ],
    "auth": {
      "identityProviders": {
        "azureActiveDirectory": {
          "userDetailsClaim": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name",
          "registration": {
            "openIdIssuer": "https://login.microsoftonline.com/01dc41c3-be9a-4fa8-9af6-11a6564a4200",
            "clientIdSettingName": "AZURE_CLIENT_ID",
            "clientSecretSettingName": "AZURE_CLIENT_SECRET"
          }
        }
      }
    },
    "responseOverrides": {
      "401": {
        "statusCode": 302,
        "redirect": "/.auth/login/aad?post_login_redirect_uri=.referrer"
      }
    }
  }